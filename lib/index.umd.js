!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self)["local-storage"]=t()}(this,(function(){"use strict";class e{async setItem(e,t){return new Promise(o=>{window.localStorage.setItem(e,t),o(!0)})}getItem(e){return window.localStorage.getItem(e)}async removeItem(e){return new Promise(t=>{window.localStorage.removeItem(e),t(!0)})}async clear(){return new Promise(e=>{window.localStorage.clear(),e(!0)})}}function t(){const e=document.cookie.match(/__ls-db=(.*)LS_END/);return e&&e[1]?JSON.parse(decodeURIComponent(e[1])):{}}function o(e,t=7){const o=new Date;o.setTime(o.getTime()+864e5*t),document.cookie=`__ls-db=${encodeURIComponent(JSON.stringify(e))}LS_END; expires=${o.toUTCString()}; path=/`}class n{constructor({cookieExpirationDays:e=7}){this.exdays=e}async setItem(e,n){return new Promise(r=>{const s=t();s[e]=n,o(s,this.exdays),r(!0)})}getItem(e){return t()[e]}async removeItem(e){return new Promise(n=>{const r=t();delete r[e],o(r,this.exdays),n(!0)})}async clear(){return new Promise(e=>{const t=new Date(0);document.cookie=`__ls-db=; expires=${t.toUTCString()}; path=/`})}}class r{async setItem(e,t){return new Promise(e=>e(!0))}getItem(e){return!e||void 0}async removeItem(e){return new Promise(e=>e(!0))}async clear(){return new Promise(e=>e(!0))}}class s{constructor(){this.internalLocalStorage={}}async setItem(e,t){return new Promise(o=>{this.internalLocalStorage[e]=t,o(!0)})}getItem(e){return this.internalLocalStorage[e]}async removeItem(e){return new Promise(t=>{delete this.internalLocalStorage[e],t(!0)})}async clear(){return new Promise(e=>{this.internalLocalStorage={},e(!0)})}}let i,c=!1,a=!1,m=!1;if("undefined"!=typeof window){a=!0;try{window.localStorage&&(window.localStorage.setItem("compatibility-test","works"),window.localStorage.removeItem("compatibility-test"),m=!0)}catch(e){m=!1,void 0===window.document&&(a=!1)}}return a||"object"!=typeof process||"object"!=typeof process.versions||void 0===process.versions.node||(c=!0),new(i=a&&m?e:a?n:c?r:s)}));
