!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self)["local-storage"]=t()}(this,function(){"use strict";class e{async setItem(e,t){return new Promise(o=>{window.localStorage.setItem(e,t),o(!0)})}async getItem(e){return new Promise(t=>{t(window.localStorage.getItem(e))})}async removeItem(e){return new Promise(t=>{window.localStorage.removeItem(e),t(!0)})}async clear(){return new Promise(e=>{window.localStorage.clear(),e(!0)})}}function t(){const e=document.cookie.match(/__ls-db=(.*)LS_END/);return e&&e[1]?decodeURIComponent(e[1]):{}}function o(e,t=7){const o=new Date;o.setTime(o.getTime()+864e5*t),document.cookie=`__ls-db=${encodeURIComponent(e)}LS_END; expires=${o.toUTCString()}; path=/`}class n{constructor({cookieExpirationDays:e=7}){this.exdays=e}async setItem(e,n){return new Promise(r=>{const s=t();s[e]=n,o(s,this.exdays),r(!0)})}async getItem(e){return new Promise(o=>{o(t()[e])})}async removeItem(e){return new Promise(n=>{const r=t();delete r[e],o(r,this.exdays),n(!0)})}async clear(){return new Promise(e=>{const t=new Date(0);document.cookie=`__ls-db=; expires=${t.toUTCString()}; path=/`})}}let r={};class s{async setItem(e,t){return new Promise(o=>{r[e]=t,o(!0)})}async getItem(e){return new Promise(t=>{t(r[e])})}async removeItem(e){return new Promise(t=>{delete r[e],t(!0)})}async clear(){return new Promise(e=>{r={},e(!0)})}}let c,i=!1,a=!1;if("undefined"!=typeof window){i=!0;try{window.localStorage&&(window.localStorage.setItem("compatibility-test","works"),window.localStorage.removeItem("compatibility-test"),a=!0)}catch(e){a=!1,void 0===window.document&&(i=!1)}}return new(c=i&&a?e:i?n:s)});
